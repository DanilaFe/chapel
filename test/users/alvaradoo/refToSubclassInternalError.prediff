#!/usr/bin/env python3

import sys

outfile = sys.argv[2]

with open(outfile, 'r') as oFile:
  myLines = oFile.readlines()

with open(outfile, 'w') as oFile:
  i = 0
  while i < len(myLines):
    line = myLines[i]
    if line.find("internal error") == 0:
      # No sorting of internal error message
      for l in myLines:
        oFile.write(l)
      i = len(myLines)

    elif line.find("## Inserting") == 0:
      oFile.write(line)
      i = i + 1
    elif line == "\n":
      oFile.write(line)
      i = i + 1
    else:
      # Sorts the data in each section alphabetically
      # Could choose to sort by vertex, but that'd be more effort
      subList = myLines[i:i+6]
      subList.sort()
      for lineInner in subList:
        oFile.write(lineInner)
      i = i + 6
 
