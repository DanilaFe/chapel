this code is really racy right now, it is not clear to me what correct output should be
